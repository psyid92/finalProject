<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="admingiup">
	
	
	
	<!-- 총 기업 수 -->
	<select id="dataCount" parameterType="map" resultType="Integer">
		SELECT NVL(COUNT(*),0) FROM giup1
	</select>
	
	<!-- 기업리스트 -->
	<select id="listGiup" parameterType="map" resultType="com.sp.admin.giup.AdminGiup">
	   SELECT * FROM (
		SELECT ROWNUM rnum, tb.* FROM (	
			SELECT g1.g1_num, g1_id, g1_name, g1_sleep, cat_code, g1_enabled, g1_created,
            NVL(g2_baedal,0), NVL(g2_tel,0), NVL(g2_giupnum,0), NVL(g2_origin,0), NVL(g2_memo,0), NVL(g2_opentime,0), NVL(g2_minpay,0),
            NVL(g3_addr1,0), NVL(g3_addr2,0), NVL(g3_addr3,0), NVL(g3_lati,0), NVL(g3_longti,0)
		        FROM giup1 g1
		        LEFT OUTER JOIN giup2 g2 ON g1.g1_num=g2.g2_num
		        LEFT OUTER JOIN giup3 g3 ON g1.g1_num=g3.g3_num
      <![CDATA[
	        ) tb WHERE ROWNUM <= #{end}
        ) WHERE rnum >= #{start}    
      ]]>
	</select>
</mapper>